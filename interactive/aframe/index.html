<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>ilzites aframe</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aframe-environment-component/dist/aframe-environment-component.min.js"></script>
  </head>
  <body>
    <a-scene keyboard-shortcuts="enterVR: false">
      <a-assets>
        <a-asset-item id="my-model" src="case.glb"></a-asset-item>
        <img id="oliverbaby" src="oliverbaby.jpg">
        <img id="oliver" src="oliver.jpg">
        <img id="fish" src="fish.jpg">
        <img id="pupa" src="fish.jpg">
        <img id="ilze" src="ilze.jpg">
        <img id="cisco" src="cisco.jpg">
        <img id="ciscopc" src="ciscopc.jpg">
        <img id="zivs3" src="zivs3.JPG">
      </a-assets>

      <a-sky color="#EDC8FF"></a-sky>
      <a-light type="directional" color="#EDC8FF" intensity="3" position="-10 30 50"></a-light>

      <a-entity gltf-model="#my-model" position="0 13.75 0" scale="1 1 1" class="collidable"></a-entity>

      <a-entity id="camera" position="0 1.6 0" keyboard-controls>
        <a-entity camera look-controls wasd-controls="acceleration:10" raycaster="objects: .collidable;" vertical-movement></a-entity>
      </a-entity>
      
      <a-image src="oliverbaby.jpg" 
        position="0 2.5 0.35" 
        rotation="0 0 0" 
        width="3.5" 
        height="4.5" 
        class="collidable">
      </a-image>
      <a-image src="oliver.jpg" 
        position="1.8 2.25 -0.5" 
        rotation="0 90 0" 
        width="1.2" 
        height="1.2" 
        class="collidable">
      </a-image>
      <a-image src="pupa.jpg" 
        position="1.8 3.5 -0.5" 
        rotation="0 90 0" 
        width="1.2" 
        height="1.2" 
        class="collidable">
      </a-image>
      <a-image src="ciscopc.jpg" 
        position="1.8 1 -0.5" 
        rotation="0 90 0" 
        width="1.2" 
        height="1.2" 
        class="collidable">
      </a-image>
      <a-image src="fish.jpg" 
        position="-0.1 4.3 -0.6" 
        rotation="90 0 0" 
        width="1.3" 
        height="1.3" 
        class="collidable">
      </a-image>
      <a-image src="cisco.jpg" 
        position="-1.9 3.3 -0.4" 
        rotation="0 90 0" 
        width="1.2" 
        height="1.2" 
        class="collidable">
      </a-image>
      <a-image src="ilze.jpg" 
        position="-1.3 3.1 -0.95" 
        rotation="0 90 0" 
        width="0.4" 
        height="0.4" 
        class="collidable">
      </a-image>
      <a-image src="zivs3.JPG"
      position="-0.7 3.15 -1.5"
      rotation="0 0 0"
      width="2"
      height="1.5"
      class="collidable">
      </a-image>

      <a-plane id="plane1" 
        position="0 0.9 0" 
        rotation="-90 0 0" 
        width="5" 
        height="3" 
        material="opacity: 0; transparent: true" 
        class="collidable">
      </a-plane>
      <a-plane id="plane3" 
        position="0 2 -1.5" 
        rotation="0 0 0" 
        width="5" 
        height="4" 
        material="opacity: 0; transparent: true" 
        class="collidable">
      </a-plane>
      <a-plane id="plane4" 
        position="-0.5 2 0.35" 
        rotation="0 0 0" 
        width="5" 
        height="4" 
        material="opacity: 0; transparent: true" 
        class="collidable">
      </a-plane>
      <a-plane id="plane5" 
        position="-1.8 1 1" 
        rotation="0 90 0" 
        width="5" 
        height="4" 
        material="opacity: 0; transparent: true" 
        class="collidable">
      </a-plane>
      <a-plane id="plane6" 
        position="1.7 1 1" 
        rotation="0 -90 0" 
        width="5" 
        height="4" 
        material="opacity: 0; transparent: true" 
        class="collidable">
      </a-plane>
    </a-scene>

    <script>
      AFRAME.registerComponent('movement-within-boundaries', {
        schema: {
          speed: { default: 0.1 } // Default movement speed
        },
    
        init: function () {
          var el = this.el;
          var data = this.data;
    
          window.addEventListener('keydown', function (event) {
            var position = el.getAttribute('position');
            var step = data.speed;
    
            switch (event.key) {
              case 'w': // Move forward
                position.z -= step;
                break;
              case 's': // Move backward
                position.z += step;
                break;
              case 'a': // Move left
                position.x -= step;
                break;
              case 'd': // Move right
                position.x += step;
                break;
              case 'e': // Move up
                position.y += step;
                break;
              case 'q': // Move down
                position.y -= step;
                break;
              default:
                return; // Exit if key doesn't correspond to movement
            }
    
            // Check collisions with collidable entities (planes) to restrict movement
            var raycaster = el.components.raycaster;
            var intersections = raycaster.intersections;
            var blocked = false;
    
            for (var i = 0; i < intersections.length; i++) {
              if (intersections[i].object.el.classList.contains('collidable')) {
                blocked = true;
                break;
              }
            }
    
            // If movement is not blocked by collidables, update camera position
            if (!blocked) {
              el.setAttribute('position', position);
            }
          });
        }
      });
    </script>
    
    
    
    
  </body>
</html>